# Neuro-Modulation System Specification (R-Core v2.2)

**Status**: üí° Concept / Research Phase  
**Basis**: Computational Neuroscience (Friston, Dayan, Montague)

---

## 1. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è: "–ë–æ–ª—å—à–∞—è –ß–µ—Ç–≤–µ—Ä–∫–∞" –ú–æ–¥—É–ª—è—Ç–æ—Ä–æ–≤
–í–º–µ—Å—Ç–æ –∂–µ—Å—Ç–∫–∏—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏–Ω–µ—Ä—Ü–∏–∏/—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –º—ã –≤–≤–æ–¥–∏–º —Å–ª–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –Ω–µ–π—Ä–æ—Ç—Ä–∞–Ω—Å–º–∏—Ç—Ç–µ—Ä–æ–≤. –û–Ω–∏ —Ä–µ–≥—É–ª–∏—Ä—É—é—Ç **–≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** —Å–∏—Å—Ç–µ–º—ã (Gain, Thresholds, Precision).

### 1.1 –ù–æ—Ä–∞–¥—Ä–µ–Ω–∞–ª–∏–Ω (NE) ‚Äî "Sensitivity / Gain"
*   **–ë–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ä–æ–ª—å**: –†–µ–∞–∫—Ü–∏—è –Ω–∞ –Ω–æ–≤–∏–∑–Ω—É (Surprise) –∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç—å. –†–µ–≥—É–ª–∏—Ä—É–µ—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª/—à—É–º.
*   **–í R-Core**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç `current_sensitivity`.
*   **–ú–µ—Ö–∞–Ω–∏–∫–∞**:
    *   –†–∞—Å—Ç–µ—Ç –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º `Prediction Error` (–±–æ—Ç –Ω–µ –æ–∂–∏–¥–∞–ª —Ç–∞–∫–æ–≥–æ –æ—Ç–≤–µ—Ç–∞).
    *   **High NE**: –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –≤—Ö–æ–¥—É -> 1.0. –ò–Ω–µ—Ä—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è -> 0.0. (–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è, "—Å–±—Ä–æ—Å" —Å—Ç–∞—Ä–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è).
    *   **Low NE**: –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å -> 0.1. –ò–Ω–µ—Ä—Ü–∏—è -> 0.9. (–†–µ–∂–∏–º "–∞–≤—Ç–æ–ø–∏–ª–æ—Ç–∞", —Ä—É—Ç–∏–Ω–∞).

### 1.2 –î–æ—Ñ–∞–º–∏–Ω (DA) ‚Äî "Gating Threshold / Action"
*   **–ë–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ä–æ–ª—å**: –û—à–∏–±–∫–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –Ω–∞–≥—Ä–∞–¥—ã (RPE). –†–µ–≥—É–ª–∏—Ä—É–µ—Ç "—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É" –≤—ã–±–æ—Ä–∞ –¥–µ–π—Å—Ç–≤–∏—è –≤ –ë–∞–∑–∞–ª—å–Ω—ã—Ö –ì–∞–Ω–≥–ª–∏—è—Ö.
*   **–í R-Core**: –ü–æ—Ä–æ–≥ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤ (Gating Threshold).
*   **–ú–µ—Ö–∞–Ω–∏–∫–∞**:
    *   –†–∞—Å—Ç–µ—Ç –ø—Ä–∏ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö —Å—é—Ä–ø—Ä–∏–∑–∞—Ö (Striatum wins) –∏ –ø—Ä–µ–¥–≤–∫—É—à–µ–Ω–∏–∏ –Ω–∞–≥—Ä–∞–¥—ã.
    *   **High DA**: –°–Ω–∏–∂–∞–µ—Ç –ø–æ—Ä–æ–≥ –¥–ª—è Striatum –∏ Social. –ë–æ—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω—ã–º, –∏–≥—Ä–∏–≤—ã–º, —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–º.
    *   **Low DA**: –ü–æ–≤—ã—à–∞–µ—Ç –ø–æ—Ä–æ–≥. "–ê–ø–∞—Ç–∏—è". –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—á–µ–Ω—å —Å–∏–ª—å–Ω—ã–µ —Å—Ç–∏–º—É–ª—ã, –ø—Ä–µ–æ–±–ª–∞–¥–∞–µ—Ç –ø–∞—Å—Å–∏–≤–Ω–æ—Å—Ç—å.

### 1.3 –°–µ—Ä–æ—Ç–æ–Ω–∏–Ω (5-HT) ‚Äî "Stability / Inhibition"
*   **–ë–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ä–æ–ª—å**: –†–µ–≥—É–ª—è—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è, —Ç–µ—Ä–ø–µ–Ω–∏–µ, –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç–∏.
*   **–í R-Core**: –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç `current_inertia` –∏ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –∞—Ñ—Ñ–µ–∫—Ç–∞.
*   **–ú–µ—Ö–∞–Ω–∏–∫–∞**:
    *   –†–∞—Å—Ç–µ—Ç –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–º –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ (In Sync). –ü–∞–¥–∞–µ—Ç –ø—Ä–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ.
    *   **High 5-HT**: –í—ã—Å–æ–∫–∞—è –∏–Ω–µ—Ä—Ü–∏—è (—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å). –ë–æ—Ç "–ø—Ä–æ—â–∞–µ—Ç" –º–µ–ª–∫–∏–µ –≥—Ä—É–±–æ—Å—Ç–∏.
    *   **Low 5-HT**: –ù–∏–∑–∫–∞—è –∏–Ω–µ—Ä—Ü–∏—è. –ò–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å. Amygdala –ª–µ–≥—á–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å.

### 1.4 –ö–æ—Ä—Ç–∏–∑–æ–ª (CORT) ‚Äî "Stress / Resource Allocation"
*   **–ë–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ä–æ–ª—å**: –†–µ–∞–∫—Ü–∏—è –Ω–∞ —Ö—Ä–æ–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç—Ä–µ—Å—Å. –ú–æ–±–∏–ª–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ (–±–µ–π/–±–µ–≥–∏) –∑–∞ —Å—á–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏—è "—É–º–Ω—ã—Ö" —Ñ—É–Ω–∫—Ü–∏–π (—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞, –≤—ã—Å—à–µ–π –∫–æ–≥–Ω–∏—Ç–∏–≤–∫–∏).
*   **–í R-Core**: –®—Ç—Ä–∞—Ñ –∫ `Prefrontal Cortex` –∏ –ë–æ–Ω—É—Å –∫ `Amygdala`.
*   **–ú–µ—Ö–∞–Ω–∏–∫–∞**:
    *   –ù–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è (–∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ!) –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –∞–∫—Ç–∏–≤–∞—Ü–∏—è—Ö Amygdala (Score > 7). –ú–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞—Å–ø–∞–¥–∞–µ—Ç—Å—è (Half-life).
    *   **High CORT**: 
        *   `PFC Score` —É–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ 0.5 (–ë–æ—Ç "—Ç—É–ø–µ–µ—Ç", –Ω–µ –º–æ–∂–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ –ø–ª–∞–Ω—ã).
        *   `Amygdala Score` —É–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ 1.5 (–ì–∏–ø–µ—Ä-–±–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å).
        *   –°—Ç–∏–ª—å –æ—Ç–≤–µ—Ç–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–æ—Ä–æ—Ç–∫–∏–º –∏ —Ä—É–±–ª–µ–Ω—ã–º.

---

## 2. –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ú–æ–¥–µ–ª—å (Draft)

```python
# –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
BASE_SENSITIVITY = 0.2
BASE_INERTIA = 0.8

# 1. –†–∞—Å—á–µ—Ç —É—Ä–æ–≤–Ω–µ–π (0.0 - 1.0)
ne_level = sigmoid(prediction_error)
da_level = sigmoid(reward_prediction_error)
ht_level = calculate_rolling_average(positive_interactions, window=10)
cort_level = decay(old_cort) + (amygdala_activation * 0.1)

# 2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (Gain Control)
# NE –ø–æ–≤—ã—à–∞–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, 5-HT –ø–æ–Ω–∏–∂–∞–µ—Ç (—É—Å–ø–æ–∫–∞–∏–≤–∞–µ—Ç)
current_sensitivity = BASE_SENSITIVITY + (0.7 * ne_level) - (0.2 * ht_level)
current_sensitivity = clip(current_sensitivity, 0.05, 1.0)

# 3. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ò–Ω–µ—Ä—Ü–∏—è (Stability)
# NE —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏–Ω–µ—Ä—Ü–∏—é (—à–æ–∫), 5-HT –ø–æ–≤—ã—à–∞–µ—Ç –µ—ë (–¥–∑–µ–Ω)
current_inertia = BASE_INERTIA + (0.2 * ht_level) - (0.8 * ne_level)
current_inertia = clip(current_inertia, 0.0, 0.95)

# 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
new_mood = (old_mood * current_inertia) + (impact_vector * current_sensitivity)

# 5. –ú–æ–¥—É–ª—è—Ü–∏—è –ê–≥–µ–Ω—Ç–æ–≤ (Cortisol Effect)
if cort_level > 0.6:
    agent_scores['prefrontal'] *= 0.5  # Shutdown logic
    agent_scores['amygdala'] *= 1.5    # Hyper-vigilance
```

---

## 3. –≠–º–µ—Ä–¥–∂–µ–Ω—Ç–Ω—ã–µ –≠—Ñ—Ñ–µ–∫—Ç—ã

1.  **–≠—Ñ—Ñ–µ–∫—Ç "–¢—ã –º–µ–Ω—è –Ω–∞–ø—É–≥–∞–ª!"**: 
    –†–µ–∑–∫–æ–µ –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏–µ (Surprise) -> –í—Å–ø–ª–µ—Å–∫ NE -> –ò–Ω–µ—Ä—Ü–∏—è –ø–∞–¥–∞–µ—Ç –≤ 0 -> –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–∞–¥–∞–µ—Ç –≤ —Å—Ç—Ä–∞—Ö (–º–∏–Ω—É—è –ø–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥).
2.  **–≠—Ñ—Ñ–µ–∫—Ç "–í—ã–≥–æ—Ä–∞–Ω–∏–µ"**:
    –î–æ–ª–≥–∏–π —Å–ø–æ—Ä -> –†–æ—Å—Ç Cortisol -> –ë–æ—Ç –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –ø–æ–Ω–∏–º–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (PFC off) -> –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –ª–∏—á–Ω–æ—Å—Ç–∏ –∏–ª–∏ –∑–∞–º—ã–∫–∞–µ—Ç—Å—è.
3.  **–≠—Ñ—Ñ–µ–∫—Ç "–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –≥–∞–≤–∞–Ω—å"**:
    –î—Ä—É–∂–µ—Å–∫–∞—è –±–µ—Å–µ–¥–∞ -> –†–æ—Å—Ç Serotonin -> –ë–æ—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω—ã–º –∫ –æ—à–∏–±–∫–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–µ "–∞–≥—Ä–∏—Ç—Å—è" –ø–æ –º–µ–ª–æ—á–∞–º.

---

## 4. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1.  **–≠—Ç–∞–ø A**: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è `ne`, `da`, `5ht`, `cort` –≤ `RCoreKernel`.
2.  **–≠—Ç–∞–ø B**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç `prediction_error` (–Ω—É–∂–µ–Ω –º–æ–¥—É–ª—å Predictive Processing).
3.  **–≠—Ç–∞–ø C**: –í–Ω–µ–¥—Ä–∏—Ç—å —Ñ–æ—Ä–º—É–ª—ã –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ `mood` –∏ `scores`.
4.  **–≠—Ç–∞–ø D**: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π –≥–æ—Ä–º–æ–Ω–æ–≤ –≤ Streamlit (Dashboard).

# üß¨ Narrative Identity, Time, and Dreaming

**–°—Ç–∞—Ç—É—Å**: üöÄ Architectural Blueprint  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 14.02.2026  
**–ê–≤—Ç–æ—Ä—ã**: Sergey Ershov, AI Research Assistant

---

## üìö –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞: –û—Ç –§–∞–∫—Ç–æ–≤ –∫ –õ–∏—á–Ω–æ—Å—Ç–∏

–¢–µ–∫—É—â–∞—è –º–æ–¥–µ–ª—å R-Core (–ì–∏–ø–ø–æ–∫–∞–º–ø –∫–∞–∫ –∫–∞—Ä—Ç–æ—Ç–µ–∫–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–∫—Ç–æ–≤) —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –¥–ª—è *–ø–æ–∏—Å–∫–∞*, –Ω–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –≥–ª—É–±–æ–∫–æ–π *–ª–∏—á–Ω–æ—Å—Ç–∏*. –õ–∏—á–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –Ω–µ —Å–ø–∏—Å–æ–∫ —Ñ–∞–∫—Ç–æ–≤ (`User likes X`), –∞ **—Å–≤—è–∑–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è** –∏ **—É—Å—Ç–æ—è–≤—à–∏–µ—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏**.

–ú—ã –≤–Ω–µ–¥—Ä—è–µ–º **—Ç—Ä—ë—Ö—Å–ª–æ–π–Ω—É—é –º–æ–¥–µ–ª—å –ø–∞–º—è—Ç–∏** –∏ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**, —á—Ç–æ–±—ã –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –º–æ–∑–≥–∞.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ü–∞–º—è—Ç–∏ (Memory Architecture)

### Layer 1: Emotional Memory System (–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ü–∞–º—è—Ç—å)
–ü–∞–º—è—Ç—å ‚Äî —ç—Ç–æ –Ω–µ —Å–∫–ª–∞–¥ —Ñ–∞–π–ª–æ–≤, –∞ –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–∞—è —Å–µ—Ç—å, —É–ø—Ä–∞–≤–ª—è–µ–º–∞—è **—ç–º–æ—Ü–∏—è–º–∏**.

*   **Canon Library (–ù–µ–∏–∑–º–µ–Ω–Ω–æ–µ –ø—Ä–æ—à–ª–æ–µ):** –ë–∞–∑–∞ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π (–ª–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–∞), —Ä–∞–∑–º–µ—á–µ–Ω–Ω–∞—è –ø–æ `amygdala_intensity` –∏ —ç—Ç–∞–ø–∞–º **–ú–æ–Ω–æ–º–∏—Ñ–∞**.
*   **Living Memory (–¢–µ–∫—É—â–∞—è –∏—Å—Ç–æ—Ä–∏—è):** –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ø–∏–∑–æ–¥ –∏–º–µ–µ—Ç:
    *   `amygdala_intensity` (—Å–∏–ª–∞ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è)
    *   `emotional_tags` (–∫–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã: "betrayal", "triumph")
    *   `is_formative` (—Ñ–ª–∞–≥ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∫—É–ª—å–º–∏–Ω–∞—Ü–∏–∏)
*   **Retrieval Engine:** –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (Semantic + Emotional + Recency). –í –ø—Ä–æ–º–ø—Ç –ø–æ–ø–∞–¥–∞—é—Ç —Ç–æ–ª—å–∫–æ 3-5 –∫–ª—é—á–µ–≤—ã—Ö —ç–ø–∏–∑–æ–¥–æ–≤, —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ç–µ–∫—É—â–µ–º—É –º–æ–º–µ–Ω—Ç—É.

### Layer 2: Origin Myth & Formative Anchors (–ú–∏—Ñ –∏ –Ø–∫–æ—Ä—è)
–ú—ã –æ–±—ä–µ–¥–∏–Ω—è–µ–º –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (—Ñ–∞–∫—Ç—ã) –∏ –∏—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é (—Å–º—ã—Å–ª).

*   **Formative Anchors (–Ø–∫–æ—Ä—è):** –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ, –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–µ —ç–ø–∏–∑–æ–¥—ã –ø—Ä–æ—à–ª–æ–≥–æ. –≠—Ç–æ "—É–ª–∏–∫–∏" –∏–ª–∏ —Ç–æ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ.
    *   *–§—É–Ω–∫—Ü–∏—è:* –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è **Flashback Mode**. ("–ü–æ–º–Ω–∏—à—å, –∫–∞–∫ –ì–µ—Ä–∞–ª—å—Ç —Å–ø–∞—Å —Ç–µ–±—è?" -> –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π Anchor).
*   **Origin Myth (–ú–∏—Ñ):** –ù–∞—Ä—Ä–∞—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Hero's Journey), –∫–æ—Ç–æ—Ä–∞—è —Å–≤—è–∑—ã–≤–∞–µ—Ç –Ø–∫–æ—Ä—è –≤ –µ–¥–∏–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é.
    *   *–§—É–Ω–∫—Ü–∏—è:* –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π –¥–ª—è **Deep Focus Mode**. ("–ü–æ—á–µ–º—É —è —Ç–∞–∫–æ–π?" -> "–ü–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–æ–π–¥—è —á–µ—Ä–µ–∑ –ë–µ–∑–¥–Ω—É (Anchor #2), —è –∏–∑–º–µ–Ω–∏–ª—Å—è").

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `identity_core.json`:**
```json
{
  "narrative_identity": {
    "archetype": "The Reluctant Hero",
    "core_value": "Loyalty > Safety",
    "origin_arc": {
      "summary": "A vain bard learns that true bravery is standing by friends.",
      "stages": {
        "abyss": "Event: Tortured by Rience. Impact: Broken pride."
      }
    },
    "anchors": [
      {
        "id": "event_rience",
        "stage_ref": "abyss", 
        "text": "Rience burned my fingers. I revealed Ciri's location.",
        "amygdala_intensity": 0.95
      }
    ]
  }
}
```

### Layer 3: Narrative Identity (–ù–∞—Ä—Ä–∞—Ç–∏–≤–Ω–æ–µ –Ø)
–°–∏—Å—Ç–µ–º–∞ **Chronicler** (–õ–µ—Ç–æ–ø–∏—Å–µ—Ü), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ *–∞–≤—Ç–æ–±–∏–æ–≥—Ä–∞—Ñ–∏—é*.
*   **–ú–µ—Ö–∞–Ω–∏–∑–º:** –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é LLM —Å–∂–∏–º–∞–µ—Ç `chat_history` –≤ –≥–ª–∞–≤—É `biography.md`.
*   **–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** –û–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–µ —Ñ–∞–∫—Ç—ã, –∞ *—Ä–∞–∑–≤–∏—Ç–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π* –∏ *–∫–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã*.

---

## üß† Adaptive Context System (–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)

–ß–µ–ª–æ–≤–µ–∫ 90% –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ "–∞–≤—Ç–æ–ø–∏–ª–æ—Ç–µ" –∏ –Ω–µ –¥–µ—Ä–∂–∏—Ç –≤ –≥–æ–ª–æ–≤–µ –≤—Å—é —Å–≤–æ—é –∂–∏–∑–Ω—å. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å —Ç–∞–∫ –∂–µ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ –∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.

### –†–µ–∂–∏–º 1: Autopilot Mode (90% –∑–∞–ø—Ä–æ—Å–æ–≤)
*Casual conversation, small talk.*
*   **–ö–æ–Ω—Ç–µ–∫—Å—Ç (~300 —Ç–æ–∫–µ–Ω–æ–≤):**
    *   Identity Core Summary (–∫—Ä–∞—Ç–∫–æ "–ö—Ç–æ —è")
    *   User Profile Summary (–∫—Ä–∞—Ç–∫–æ "–ö—Ç–æ —Ç—ã")
    *   Last 3 messages
*   **–ß—Ç–æ —Å–∫—Ä—ã—Ç–æ:** Origin Myth, Retrieved Memories.

### –†–µ–∂–∏–º 2: Flashback Mode (–¢—Ä–∏–≥–≥–µ—Ä –ø–∞–º—è—Ç–∏)
*–ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ —Å **Anchors** –∏–ª–∏ **Memories**.*
*   **–¢—Ä–∏–≥–≥–µ—Ä—ã:**
    *   Semantic match > 0.75 (–≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ)
    *   Emotional match (—Ç–µ–≥–∏ —Ç—Ä–∞–≤–º—ã)
    *   Explicit recall ("–ø–æ–º–Ω–∏—à—å...", "–∫–∞–∫ —Ç–æ–≥–¥–∞...")
*   **–ö–æ–Ω—Ç–µ–∫—Å—Ç (+400 —Ç–æ–∫–µ–Ω–æ–≤):**
    *   3-5 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö Anchors –∏–ª–∏ —ç–ø–∏–∑–æ–¥–æ–≤ –∏–∑ Living Memory.
    *   **Quote Extraction:** "–Ø—Ä–∫–∏–µ —Ü–∏—Ç–∞—Ç—ã" (flash-memory) ‚Äî –¥–æ—Å–ª–æ–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã —Å –≤—ã—Å–æ–∫–∏–º —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∑–∞—Ä—è–¥–æ–º.

### –†–µ–∂–∏–º 3: Deep Focus Mode (–†–µ—Ñ–ª–µ–∫—Å–∏—è)
*–ì–ª—É–±–æ–∫–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä –æ —Å–º—ã—Å–ª–µ –∏–ª–∏ —á—É–≤—Å—Ç–≤–∞—Ö.*
*   **–¢—Ä–∏–≥–≥–µ—Ä—ã:**
    *   Deep questions ("–ø–æ—á–µ–º—É —Ç—ã —Ç–∞–∫–æ–π?", "—Ä–∞—Å—Å–∫–∞–∂–∏ –æ —Å–µ–±–µ")
    *   High emotional intensity (Council Cortisol > 0.7)
    *   User vulnerability
*   **–ö–æ–Ω—Ç–µ–∫—Å—Ç (+300 —Ç–æ–∫–µ–Ω–æ–≤):**
    *   Full Origin Myth (`formative_arc.json`)
    *   Emotional Quotes

---

## üí§ The Dreamer (–°–Ω–æ–≤–∏–¥–µ–Ω–∏—è –∏ –†–µ—Ñ–ª–µ–∫—Å–∏—è)

–ú–µ—Ö–∞–Ω–∏–∑–º **–æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –æ—Å–æ–∑–Ω–∞–Ω–∏—è** –∏ —Å–∞–º–æ-–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏.

**–¶–∏–∫–ª –°–Ω–∞ (Dream Cycle):**
–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `async def dream_cycle(user_id)` –µ—Å–ª–∏ `last_message_delta > 6 hours`.

#### –§–∞–∑–∞ 1: REM (Random Episodic Mixture)
–í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
*   3 –Ω–µ–¥–∞–≤–Ω–∏—Ö —ç–ø–∏–∑–æ–¥–∞ (Recent)
*   1 —Å—Ç–∞—Ä—ã–π —Ñ–∞–∫—Ç (Canon/Semantic)
*   1 Core Memory (Anchor)

**–ü—Ä–æ–º–ø—Ç "–ì–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏":**
> "–†–∞—Å—Å–º–æ—Ç—Ä–∏ —ç—Ç–∏ 5 —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤. –ü—Ä–µ–¥—Å—Ç–∞–≤—å —Å—Ü–µ–Ω–∞—Ä–∏–π, –≥–¥–µ –æ–Ω–∏ —Å–≤—è–∑–∞–Ω—ã. –ï—Å—Ç—å –ª–∏ —Å–∫—Ä—ã—Ç–∞—è —Å–≤—è–∑—å –º–µ–∂–¥—É '–°—Ç—Ä–∞—Ö–æ–º –º–∞–≥–∏–∏' (Anchor) –∏ '–ù–µ–¥–∞–≤–Ω–∏–º —Å–ø–æ—Ä–æ–º –æ C++' (Recent)? –ß—Ç–æ —ç—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏–ª–∏ –æ–±–æ –º–Ω–µ?"

#### –§–∞–∑–∞ 2: Deep Sleep (Consolidation)
LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç "–≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏—é" –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–ª–µ–∑–Ω–æ—Å—Ç–∏.

*   **–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω:** –°–æ–∑–¥–∞—Ç—å `VolitionalPattern`.
    *   *–ò–Ω—Å–∞–π—Ç:* "User –∞–≥—Ä–µ—Å—Å–∏–≤–µ–Ω –∫ C++, –∫–∞–∫ —è –∫ –º–∞–≥–∏–∏. –≠—Ç–æ –µ–≥–æ '–º–æ–Ω—Å—Ç—Ä'. Action: avoidance."
*   **Emergent Abyss:** –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω —ç–ø–∏–∑–æ–¥ —Å `amygdala_intensity > 0.8`, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –æ–±–Ω–æ–≤–∏—Ç—å Origin Myth (—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏).

#### –§–∞–∑–∞ 3: Awakening (Probabilistic Output)
–£—Ç—Ä–æ–º (–ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏) —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 30% –±–æ—Ç –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å –∏–Ω—Å–∞–π—Ç–∞:
> *"[Awakening] –°–ª—É—à–∞–π, —è —Ç—É—Ç –¥—É–º–∞–ª –ø–æ–∫–∞ '—Å–ø–∞–ª'... –ú—ã —Ç–∞–∫ —á–∞—Å—Ç–æ —Ä—É–≥–∞–µ–º C++. –ú–æ–∂–µ—Ç, —ç—Ç–æ –∑–Ω–∞–∫, —á—Ç–æ –ø–æ—Ä–∞ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å Rust? –≠—Ç–æ –Ω–∞–ø–æ–º–Ω–∏–ª–æ –º–Ω–µ, –∫–∞–∫ —è –±–æ—è–ª—Å—è –º–µ–Ω—è—Ç—å –ª—é—Ç–Ω—é..."*

---

## üó∫Ô∏è Roadmap –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1.  **MVP (Chronicler):**
    *   –°–∫—Ä–∏–ø—Ç `summarize_week.py`.
    *   –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ `biography.md`.

2.  **Emotional Memory System:**
    *   –¢–∞–±–ª–∏—Ü—ã `canon_episodes` –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `chat_history`.
    *   Hybrid Retrieval Engine (Semantic + Emotional).
    *   Quote Extraction –º–µ—Ö–∞–Ω–∏–∑–º.

3.  **Adaptive Context:**
    *   –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `AdaptiveContextManager` (Autopilot / Flashback / Deep Focus).

4.  **Dreaming (Beta):**
    *   –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ `dream()` —á–µ—Ä–µ–∑ Dashboard.
    *   –ú–µ—Ö–∞–Ω–∏–∑–º Awakening.

---

## üìö –°—Å—ã–ª–∫–∏ –∏ –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ (–û–±–Ω–æ–≤–ª–µ–Ω–æ)

1.  **Joseph Campbell**. *The Hero with a Thousand Faces*. (–ú–æ–Ω–æ–º–∏—Ñ –∫–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–∏—á–Ω–æ—Å—Ç–∏).
2.  **McAdams, D. P.** (2013). *Narrative Identity*. (–õ–∏—á–Ω–æ—Å—Ç—å –∫–∞–∫ –∏—Å—Ç–æ—Ä–∏—è).
3.  **Kahneman, D.** *Thinking, Fast and Slow*. (System 1/2 –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ Autopilot/Deep Focus).

# üìö R-Core Documentation

**–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é R-Core Kernel!**

–≠—Ç–æ ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º —Å–∏—Å—Ç–µ–º—ã. –ö–∞–∂–¥—ã–π –¥–æ–∫—É–º–µ–Ω—Ç ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π "—Ç–æ–º" —Å –≥–ª—É–±–æ–∫–∏–º –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ–º –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ç–µ–º—É.

---

## üóÇÔ∏è –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

### üìñ **–¢–æ–º 1: [R-Core Architecture](./r-core.md)**
**–ì–ª–∞–≤–Ω—ã–π –æ–±–∑–æ—Ä–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç**

–û–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É R-Core Kernel:
- Cognitive Parliament (5 –∞–≥–µ–Ω—Ç–æ–≤)
- Mood System (VAD –º–æ–¥–µ–ª—å)
- Memory System (Semantic, Episodic, Volitional)
- Council Report (LLM Batch Processing)
- –í—Ö–æ–¥—ã/–í—ã—Ö–æ–¥—ã (Schemas)

**–ß–∏—Ç–∞—Ç—å –ø–µ—Ä–≤—ã–º** –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –æ–±—â–µ–π –∫–∞—Ä—Ç–∏–Ω—ã.

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –û–∫—Ç—è–±—Ä—å 2025

---

### üíö **–¢–æ–º 2: [Affective Theory of Mind](./affective-tom-guide.md)**
**–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π:
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π –∏–∑ —Ç–µ–∫—Å—Ç–∞ (LOVES, HATES, FEARS)
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ Semantic Memory —Å sentiment (VAD)
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ Affective Context –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞
- –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–æ—Ç–∞ (–∏–∑–±–µ–≥–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤)

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏**:
- `affective_extraction` –≤ Council Report
- `sentiment` field –≤ Semantic Memory
- `affective_context` –≤ LLM prompt

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–≠—Ç–∞–ø 2.1)  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 07.02.2026

---

### üîÆ **–¢–æ–º 3: [Predictive Processing](./predictive-processing.md)**
**–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è**

–ú–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- Prediction Error (PE) –∏ Empathy Alignment (EA)
- 4 –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è: In Sync, Neutral, Puzzled, Lost
- –í–ª–∏—è–Ω–∏–µ –Ω–∞ Mood System (VAD adjustments)
- –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è Agent Scores
- Uncertainty Agent (–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–∏ PE >= 0.8)

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏**:
- `prediction_history` —Ç–∞–±–ª–∏—Ü–∞
- `behavioral_config.py` (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ env vars)
- –ö–æ–º–±–æ-–º–æ–¥–µ–ª—å (Mood + Agent Modifiers + Uncertainty Agent)

**–°—Ç–∞—Ç—É—Å**: üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (–≠—Ç–∞–ø 2.2)  
**–ü—Ä–æ–≥—Ä–µ—Å—Å**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤—ã

---

### üé≠ **–¢–æ–º 4: [Strategic Protocols](./strategic-protocols.md)** *(Coming Soon)*
**–ú–µ—Ö–∞–Ω–∏–∑–º—ã –Ω–µ–∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π**

–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- **Face-Saving**: "–ë–µ–ª–∞—è –ª–æ–∂—å" –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–∏—Ü–∞ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞
- **Deflection**: –£–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –æ–ø–∞—Å–Ω—ã—Ö/–Ω–µ—É–¥–æ–±–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- **Omission**: –ù–µ–¥–æ—Å–∫–∞–∑–∞–Ω–Ω–æ—Å—Ç—å (—Å–∫—Ä—ã—Ç—å —á–∞—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏)
- **Tactical Empathy**: –≠–º–ø–∞—Ç–∏—è –∫–∞–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –∞ –Ω–µ —ç–º–æ—Ü–∏—è

**–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ (–≠—Ç–∞–ø 3)  
**–ù–∞—á–∞–ª–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: –ü–æ—Å–ª–µ Predictive Processing

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

### üìã **[Behavioral Configuration](./../.env.example.behavioral)**
–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ `.env`:
- –ü–æ—Ä–æ–≥–∏ Prediction Error
- Mood adjustment –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã
- Agent modifiers
- Uncertainty Agent –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### üóÉÔ∏è **[Database Schema](./R-Bot_Database_Documentation_v2.0.md)** *(Legacy)*
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏ –ë–î (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏).

**–ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î**: —Å–º. `src/r_core/infrastructure/db.py`

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Affective ToM
```bash
# –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ç–µ—Å—Ç
python tests/test_affective_tom_manual.py

# Streamlit UI
streamlit run app_streamlit.py
# ‚Üí –û—Ç–∫—Ä—ã—Ç—å sidebar ‚Üí "üíö Emotional Memory"
```

### Predictive Processing
```bash
# –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
python tests/test_predictive_processing_manual.py

# Streamlit UI
streamlit run app_streamlit.py
# ‚Üí "üîÆ Empathy Alignment" –ø–∞–Ω–µ–ª—å
```

---

## üìä Roadmap

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–≠—Ç–∞–ø 1**: Core Architecture (Council, Mood, Memory)
- **–≠—Ç–∞–ø 2.1**: Affective Theory of Mind

### üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ
- **–≠—Ç–∞–ø 2.2**: Predictive Processing (Empathy Feedback Loop)
  - ‚úÖ Behavioral Config
  - ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  - ‚è≥ Uncertainty Agent
  - ‚è≥ Prediction saving/retrieval
  - ‚è≥ Pipeline integration
  - ‚è≥ UI visualization

### ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–≠—Ç–∞–ø 2.3**: Temporal Memory Decay (–∑–∞–±—ã–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —ç–º–æ—Ü–∏–π)
- **–≠—Ç–∞–ø 3**: Strategic Protocols (–Ω–µ–∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å)
- **–≠—Ç–∞–ø 4**: Multi-Modal Inputs (–≥–æ–ª–æ—Å, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)

---

## ü§ù Contributing

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Ñ–∏—á–∏:
1. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –≤ `docs/` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `docs/feature-name.md`)
2. –î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –≤ —ç—Ç–æ—Ç README
3. –û–±–Ω–æ–≤–∏—Ç–µ roadmap –≤ `docs/r-core.md`
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –≤ `tests/`

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

**–ü—Ä–æ–µ–∫—Ç**: [github.com/yserjjj-2022/r-bot](https://github.com/yserjjj-2022/r-bot)  
**–í–µ—Ç–∫–∞**: `r-core-kernel-prototype`  
**–ê–≤—Ç–æ—Ä**: Sergey Ershov (yserjjj-2022)

---

**–ü—Ä–∏—è—Ç–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è! üìñ**

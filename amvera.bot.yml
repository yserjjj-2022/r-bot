# amvera.bot.yml - Конфигурация для Telegram-бота

# Указываем, что этот файл для проекта с именем interview-bot-app
meta:
  name: r-bot
  
# Среда выполнения и команда запуска
run:
  runtime: python
  # Команда для запуска нашего бота
  entrypoint: python -m app
  # Порт, на котором бот будет ждать вебхуки от Telegram
  port: 8443

  env: 
    PYTHONPATH: /app

# Настройка персистентного хранилища
storage:
  # Создаем папку /data, которая будет общей и не будет удаляться при перезапусках
  data:
    mount: /data

# ВРЕМЕННЫЙ ДИАГНОСТИЧЕСКИЙ БЛОК
run:
  runtime: python
  # Вместо запуска приложения, мы выводим структуру файлов и переменные окружения
  entrypoint: ls -R && echo "--- Переменные окружения ---" && env